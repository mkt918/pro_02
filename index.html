<!DOCTYPE html>
<!-- Build Trigger: 2026-02-04-1204 -->
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌟 Python Turtle Learner v2.3 🌟</title>
    <!-- キャッシュ対策 -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="styles.css?v=6">
    <!-- SortableJS for drag and drop reordering -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <!-- Prism.js for Syntax Highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <h1>🐢 Python Turtle Learner v2.3</h1>
            <p class="subtitle">【更新完了】10歩単位の選択肢を再適用したのだ！</p>
        </div>
        <div class="header-right">
            <div class="speed-control">
                <span>🏃 はやさ:</span>
                <input type="range" id="globalSpeed" min="0" max="10" value="3">
            </div>
            <button id="runBtn" class="btn btn-run">▶ RUN</button>
            <button id="resetBtn" class="btn btn-reset">🔄 RESET</button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-container">
        <!-- Left Column: Block Palette -->
        <section class="column column-blocks">
            <h2 class="column-title">📦 ブロックパレット</h2>
            <div id="palette" class="palette">
                <div class="palette-category">🚀 基本</div>
                <div class="block-template" data-type="start"
                    data-code="import turtle\nt = turtle.Turtle()\nt.speed(3)">
                    🚀 プログラム開始
                </div>
                <div class="block-template" data-type="speed" data-code="t.speed({val})">
                    ⚡ はやさを変える <select class="block-select" data-param="val">
                        <option value="1">1 (おそい)</option>
                        <option value="3" selected>3 (ふつう)</option>
                        <option value="6">6 (はやい)</option>
                        <option value="10">10 (とてもはやい)</option>
                        <option value="0">0 (しゅんかん)</option>
                    </select>
                </div>

                <div class="palette-category">🚶 移動</div>
                <div class="block-template" data-type="forward" data-code="t.forward({distance})">
                    ⬆️ 前に <select class="block-select" data-param="distance">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="30">30</option>
                        <option value="40">40</option>
                        <option value="50">50</option>
                        <option value="60">60</option>
                        <option value="70">70</option>
                        <option value="80">80</option>
                        <option value="90">90</option>
                        <option value="100" selected>100</option>
                    </select> 歩すすむ
                </div>
                <div class="block-template" data-type="backward" data-code="t.backward({distance})">
                    ⬇️ 後ろに <select class="block-select" data-param="distance">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="30">30</option>
                        <option value="40">40</option>
                        <option value="50">50</option>
                        <option value="60">60</option>
                        <option value="70">70</option>
                        <option value="80">80</option>
                        <option value="90">90</option>
                        <option value="100" selected>100</option>
                    </select> 歩さがる
                </div>
                <div class="block-template" data-type="circle" data-code="t.circle({radius})">
                    ⚪ まあるく描く (半径 <select class="block-select" data-param="radius">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="30">30</option>
                        <option value="40">40</option>
                        <option value="50" selected>50</option>
                        <option value="60">60</option>
                        <option value="70">70</option>
                        <option value="80">80</option>
                        <option value="90">90</option>
                        <option value="100">100</option>
                    </select> )
                </div>

                <div class="palette-category">🔄 回転</div>
                <div class="block-template" data-type="right" data-code="t.right({angle})">
                    ↪️ 右に <select class="block-select" data-param="angle">
                        <option value="15">15°</option>
                        <option value="30">30°</option>
                        <option value="45">45°</option>
                        <option value="60">60°</option>
                        <option value="72">72°</option>
                        <option value="90" selected>90°</option>
                        <option value="120">120°</option>
                        <option value="144">144°</option>
                        <option value="180">180°</option>
                    </select> 回る
                </div>
                <div class="block-template" data-type="left" data-code="t.left({angle})">
                    ↩️ 左に <select class="block-select" data-param="angle">
                        <option value="15">15°</option>
                        <option value="30">30°</option>
                        <option value="45">45°</option>
                        <option value="60">60°</option>
                        <option value="72">72°</option>
                        <option value="90" selected>90°</option>
                        <option value="120">120°</option>
                        <option value="144">144°</option>
                        <option value="180">180°</option>
                    </select> 回る
                </div>

                <div class="palette-category">🔁 ループ</div>
                <div class="block-template loop-block" data-type="loop_start" data-code="for i in range({count}):">
                    🔁 <select class="block-select" data-param="count">
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4" selected>4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="8">8</option>
                        <option value="10">10</option>
                        <option value="20">20</option>
                    </select> 回くりかえす ↓
                </div>
                <div class="block-template loop-end-block" data-type="loop_end" data-code="# ループ終わり">
                    🔁 ↑ ここまで
                </div>

                <div class="palette-category">🖊️ 特殊</div>
                <div class="block-template" data-type="color" data-code="t.color('{color}')">
                    🎨 色を <select class="block-select" data-param="color">
                        <option value="red">赤 🔴</option>
                        <option value="blue">青 🔵</option>
                        <option value="green">緑 🟢</option>
                        <option value="yellow">黄 🟡</option>
                        <option value="purple">紫 🟣</option>
                        <option value="pink">桃 🩷</option>
                        <option value="orange">橙 🟠</option>
                        <option value="black" selected>黒 ⚫</option>
                    </select> に変える
                </div>
                <div class="block-template" data-type="stamp" data-code="t.stamp()">
                    👣 スタンプをおす
                </div>
                <div class="block-template" data-type="clear" data-code="t.clear()">
                    🧹 画面をそうじする
                </div>
                <div class="block-template" data-type="penup" data-code="t.penup()">
                    🖊️ ペンをあげる
                </div>
                <div class="block-template" data-type="pendown" data-code="t.pendown()">
                    🖊️ ペンをさげる
                </div>
                <div class="palette-category">🌟 テンプレート</div>
                <div class="block-template" data-type="template"
                    data-code="for i in range(4):\n    t.forward(100)\n    t.left(90)">
                    🟦 正方形をかく
                </div>
                <div class="block-template" data-type="template"
                    data-code="for i in range(5):\n    t.forward(100)\n    t.right(144)">
                    ⭐ 星をかく
                </div>
                <div class="block-template" data-type="template"
                    data-code="for i in range(6):\n    t.circle(40)\n    t.left(60)">
                    🌸 お花をかく
                </div>
            </div>
        </section>

        <!-- Middle Column: Program Area -->
        <section class="column column-program">
            <h2 class="column-title">📝 プログラム (並び替えOK)</h2>
            <div id="programArea" class="program-area">
                <p class="drop-hint">← ブロックをドラッグして並べてね！<br>入れた後は上下に入れ替えられるのだ！</p>
            </div>
            <div class="code-preview-container">
                <h3>🐍 Pythonコード</h3>
                <pre><code id="codePreview" class="language-python"># RUNを押すと生成されるのだ！</code></pre>
            </div>
        </section>

        <!-- Right Column: Simulation Canvas -->
        <section class="column column-canvas">
            <h2 class="column-title">🎨 シミュレーション</h2>
            <div class="canvas-container">
                <canvas id="turtleCanvas" width="400" height="400"></canvas>
            </div>
            <div id="console" class="console">
                <div class="console-title">📋 コンソール</div>
                <div id="consoleOutput" class="console-output">準備完了なのだ！🚀</div>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="turtle-simulator.js?v=4"></script>
    <script src="app.js?v=5"></script>
</body>

</html>