<!DOCTYPE html>
<!-- Build Trigger: 2026-02-04-1204 -->
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌟 Python Turtle Learner v2.3 🌟</title>
    <!-- キャッシュ対策 -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="styles.css?v=7">
    <!-- SortableJS for drag and drop reordering -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <!-- Prism.js for Syntax Highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <h1>🐢 Python Turtle Learner v2.3</h1>
            <p class="subtitle">【更新完了】10歩単位の選択肢を再適用したのだ！</p>
        </div>
        <div class="header-right">
            <div class="speed-control">
                <span>🏃 はやさ:</span>
                <input type="range" id="globalSpeed" min="0" max="10" value="3">
            </div>
            <button id="runBtn" class="btn btn-run">▶ RUN</button>
            <button id="resetBtn" class="btn btn-reset">🔄 RESET</button>
            <button id="saveBtn" class="btn btn-save" title="ブラウザに保存">💾 保存</button>
            <button id="loadBtn" class="btn btn-load" title="ブラウザから読込">📂 読込</button>
            <button id="clearAllBtn" class="btn btn-clear" title="プログラムを全削除">🗑️ クリア</button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-container">
        <!-- Left Column: Block Palette -->
        <section class="column column-blocks">
            <h2 class="column-title">📦 ブロックパレット</h2>

            <!-- フリーハンドモード用パレット -->
            <div id="freePalette" class="palette">
                <div class="palette-category">🚀 基本</div>
                <div class="block-template" data-type="start"
                    data-code="import turtle\nt = turtle.Turtle()\nt.speed(3)">
                    🚀 プログラム開始
                </div>

                <div class="palette-category">🚶 移動</div>
                <div class="block-template" data-type="forward" data-code="t.forward({distance})">
                    ⬆️ 前に <select class="block-select" data-param="distance">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="30">30</option>
                        <option value="40">40</option>
                        <option value="50">50</option>
                        <option value="60">60</option>
                        <option value="70">70</option>
                        <option value="80">80</option>
                        <option value="90">90</option>
                        <option value="100" selected>100</option>
                    </select> 歩すすむ
                </div>
                <div class="block-template" data-type="circle" data-code="t.circle({radius}, {extent})">
                    ⚪ <select class="block-select" data-param="extent">
                        <option value="360" selected>円</option>
                        <option value="180">半円</option>
                        <option value="90">1/4円</option>
                        <option value="45">1/8円</option>
                    </select> を描く (半径 <select class="block-select" data-param="radius">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="30">30</option>
                        <option value="40" selected>40</option>
                        <option value="50">50</option>
                        <option value="60">60</option>
                        <option value="80">80</option>
                        <option value="100">100</option>
                    </select>)
                </div>
                <div class="block-template" data-type="home" data-code="t.home()">
                    🏠 ホームに戻る
                </div>

                <div class="palette-category">🔄 回転</div>
                <div class="block-template" data-type="right" data-code="t.right({angle})">
                    ↪️ 右に <select class="block-select" data-param="angle">
                        <option value="15">15°</option>
                        <option value="30">30°</option>
                        <option value="45">45°</option>
                        <option value="60">60°</option>
                        <option value="72">72°</option>
                        <option value="90" selected>90°</option>
                        <option value="120">120°</option>
                        <option value="144">144°</option>
                        <option value="180">180°</option>
                    </select> 回る
                </div>
                <div class="block-template" data-type="left" data-code="t.left({angle})">
                    ↩️ 左に <select class="block-select" data-param="angle">
                        <option value="15">15°</option>
                        <option value="30">30°</option>
                        <option value="45">45°</option>
                        <option value="60">60°</option>
                        <option value="72">72°</option>
                        <option value="90" selected>90°</option>
                        <option value="120">120°</option>
                        <option value="144">144°</option>
                        <option value="180">180°</option>
                    </select> 回る
                </div>

                <!-- カテゴリー削除 -->

                <div class="palette-category">🔁 ループ</div>
                <div class="block-template loop-block" data-type="loop_start" data-code="for i in range({count}):">
                    🔁 <select class="block-select" data-param="count">
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4" selected>4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="8">8</option>
                        <option value="10">10</option>
                        <option value="20">20</option>
                    </select> 回くりかえす ↓
                </div>
                <div class="block-template loop-end-block" data-type="loop_end" data-code="# ループ終わり">
                    🔁 ↑ ここまで
                </div>

                <div class="palette-category">🖊️ ペン</div>
                <div class="block-template" data-type="penup" data-code="t.penup()">
                    🖊️ ペンをあげる
                </div>
                <div class="block-template" data-type="pendown" data-code="t.pendown()">
                    🖊️ ペンをさげる
                </div>
                <div class="block-template" data-type="pensize" data-code="t.pensize({size})">
                    📏 ペンの太さ <select class="block-select" data-param="size">
                        <option value="1" selected>1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="5">5</option>
                        <option value="10">10</option>
                    </select>
                </div>
                <div class="block-template" data-type="color" data-code="t.color('{color}')">
                    <div class="block-main-row">
                        🎨 色を <input type="color" class="block-input" data-param="color" value="#000000"> に変える
                    </div>
                    <div class="color-palette-grid"></div>
                </div>
                <div class="block-template" data-type="clear" data-code="t.clear()">
                    🧹 画面をそうじする
                </div>
                <div class="palette-category">🌟 テンプレート</div>
                <div class="block-template" data-type="template"
                    data-algorithm='[{"type":"loop_start","val":{"count":"4"}},{"type":"forward","val":{"distance":"100"}},{"type":"left","val":{"angle":"90"}},{"type":"loop_end","val":{}}]'>
                    🟦 正方形をかく
                </div>
                <div class="block-template" data-type="template"
                    data-algorithm='[{"type":"loop_start","val":{"count":"5"}},{"type":"forward","val":{"distance":"100"}},{"type":"right","val":{"angle":"144"}},{"type":"loop_end","val":{}}]'>
                    ⭐ 星をかく
                </div>
                <div class="block-template" data-type="template"
                    data-algorithm='[{"type":"circle","val":{"radius":"40","extent":"360"}},{"type":"left","val":{"angle":"60"}},{"type":"circle","val":{"radius":"40","extent":"360"}},{"type":"left","val":{"angle":"60"}},{"type":"circle","val":{"radius":"40","extent":"360"}},{"type":"left","val":{"angle":"60"}},{"type":"circle","val":{"radius":"40","extent":"360"}},{"type":"left","val":{"angle":"60"}},{"type":"circle","val":{"radius":"40","extent":"360"}},{"type":"left","val":{"angle":"60"}},{"type":"circle","val":{"radius":"40","extent":"360"}},{"type":"left","val":{"angle":"60"}}]'>
                    🌸 お花をかく
                </div>
            </div>

            <!-- グリッドモード用パレット -->
            <div id="gridPalette" class="palette" style="display: none;">
                <div class="palette-category">🚀 基本</div>
                <div class="block-template" data-type="start"
                    data-code="import turtle\nt = turtle.Turtle()\nt.speed(3)">
                    🚀 プログラム開始
                </div>

                <div class="palette-category">🚶 移動（マス単位）</div>
                <div class="block-template" data-type="forward" data-code="t.forward({distance})">
                    ⬆️ <select class="block-select" data-param="distance">
                        <option value="1" selected>1マス</option>
                        <option value="2">2マス</option>
                        <option value="3">3マス</option>
                        <option value="4">4マス</option>
                        <option value="5">5マス</option>
                        <option value="6">6マス</option>
                        <option value="7">7マス</option>
                        <option value="8">8マス</option>
                        <option value="9">9マス</option>
                        <option value="10">10マス</option>
                    </select> 進む
                </div>
                <div class="block-template" data-type="circle" data-code="t.circle({radius}, {extent})">
                    ⚪ <select class="block-select" data-param="extent">
                        <option value="360" selected>円</option>
                        <option value="180">半円</option>
                        <option value="90">1/4円</option>
                        <option value="45">1/8円</option>
                    </select> (半径 <select class="block-select" data-param="radius">
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4" selected>4</option>
                        <option value="5">5</option>
                    </select> マス)
                </div>
                <div class="block-template" data-type="home" data-code="t.home()">
                    🏠 A1に戻る
                </div>

                <div class="palette-category">🔄 回転（90度固定）</div>
                <div class="block-template" data-type="right" data-code="t.right(90)">
                    ↪️ 右に90度回る
                </div>
                <div class="block-template" data-type="left" data-code="t.left(90)">
                    ↩️ 左に90度回る
                </div>

                <div class="palette-category">🖊️ ペン</div>
                <div class="block-template" data-type="penup" data-code="t.penup()">
                    🖊️ ペンをあげる
                </div>
                <div class="block-template" data-type="pendown" data-code="t.pendown()">
                    🖊️ ペンをさげる
                </div>
                <div class="block-template" data-type="pensize" data-code="t.pensize({size})">
                    📏 太さ <select class="block-select" data-param="size">
                        <option value="1">1</option>
                        <option value="2" selected>2</option>
                        <option value="3">3</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <div class="block-template" data-type="color" data-code="t.color('{color}')">
                    <div class="block-main-row">
                        🎨 色 <input type="color" class="block-input" data-param="color" value="#000000">
                    </div>
                    <div class="color-palette-grid"></div>
                </div>
                <div class="block-template" data-type="fillcell" data-code="t.fillcell()">
                    🎨 マスを塗る
                </div>
                <div class="block-template" data-type="clear" data-code="t.clear()">
                    🧹 画面をそうじする
                </div>

                <div class="palette-category">🔁 ループ</div>
                <div class="block-template loop-block" data-type="loop_start" data-code="for i in range({count}):">
                    🔁 <select class="block-select" data-param="count">
                        <option value="2">2回</option>
                        <option value="3">3回</option>
                        <option value="4" selected>4回</option>
                        <option value="5">5回</option>
                        <option value="8">8回</option>
                        <option value="10">10回</option>
                    </select> くりかえす ↓
                </div>
                <div class="block-template loop-end-block" data-type="loop_end" data-code="# ループ終わり">
                    🔁 ↑ ここまで
                </div>

                <div class="palette-category">🎨 ドット絵テンプレート</div>
                <div class="block-template" data-type="template"
                    data-algorithm='[{"type":"penup","val":{}},{"type":"color","val":{"color":"#ff5252"}},{"type":"forward","val":{"distance":"2"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"left","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"left","val":{}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"3"}},{"type":"left","val":{}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"4"}},{"type":"left","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"5"}},{"type":"left","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"6"}},{"type":"left","val":{}},{"type":"forward","val":{"distance":"3"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}}]'>
                    ❤️ ハート
                </div>
                <div class="block-template" data-type="template"
                    data-algorithm='[{"type":"penup","val":{}},{"type":"color","val":{"color":"#f8d878"}},{"type":"forward","val":{"distance":"2"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"left","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"left","val":{}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"color","val":{"color":"#000000"}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"color","val":{"color":"#f8d878"}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"color","val":{"color":"#000000"}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"color","val":{"color":"#f8d878"}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"3"}},{"type":"left","val":{}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"4"}},{"type":"left","val":{}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"color","val":{"color":"#000000"}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"color","val":{"color":"#f8d878"}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"color","val":{"color":"#000000"}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"color","val":{"color":"#f8d878"}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"5"}},{"type":"left","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"color","val":{"color":"#000000"}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"color","val":{"color":"#f8d878"}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"6"}},{"type":"left","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"fillcell","val":{}}]'>
                    😊 スマイル
                </div>
                <div class="block-template" data-type="template"
                    data-algorithm='[{"type":"penup","val":{}},{"type":"color","val":{"color":"#000000"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"left","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"left","val":{}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"3"}},{"type":"left","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"4"}},{"type":"left","val":{}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"5"}},{"type":"left","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"6"}},{"type":"left","val":{}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"penup","val":{}},{"type":"home","val":{}},{"type":"right","val":{}},{"type":"forward","val":{"distance":"7"}},{"type":"left","val":{}},{"type":"forward","val":{"distance":"1"}},{"type":"pendown","val":{}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}},{"type":"forward","val":{"distance":"2"}},{"type":"fillcell","val":{}}]'>
                    🏁 チェッカー
                </div>

            </div>
        </section>

        <!-- Middle Column: Program Area -->
        <section class="column column-program">
            <div class="program-header">
                <h2 class="column-title">📝 プログラム</h2>
                <div class="program-tabs">
                    <button class="tab-btn active" data-tab="blocks">🧩 ブロック</button>
                    <button class="tab-btn" data-tab="code">🐍 コード</button>
                    <button id="exportBtn" class="tab-btn btn-export" title="ファイルに書き出し">📤 出力</button>
                    <button id="importBtn" class="tab-btn btn-import" title="ファイルから読み込み">📥 入力</button>
                    <input type="file" id="importFile" style="display: none;" accept=".json">
                </div>
            </div>
            <div id="blocksTab" class="tab-content active">
                <div id="programArea" class="program-area">
                    <p class="drop-hint">← ブロックをドラッグして並べてね！<br>入れた後は上下に入れ替えられるのだ！</p>
                </div>
            </div>
            <div id="codeTab" class="tab-content">
                <div class="code-preview-container">
                    <pre><code id="codePreview" class="language-python"># RUNを押すと生成されるのだ！</code></pre>
                </div>
            </div>
        </section>

        <!-- Right Column: Simulation Canvas -->
        <section class="column column-canvas">
            <div class="column-header-with-controls">
                <h2 class="column-title">🎨 シミュレーション</h2>
                <div class="header-controls">
                    <div class="mode-control">
                        <div class="mode-tabs">
                            <button class="mode-tab active" id="modeFreeBtn">✏️ フリーハンド</button>
                            <button class="mode-tab" id="modeGridBtn">🎨 マス目</button>
                        </div>
                    </div>
                    <div class="grid-size-control" id="gridSizeControl" style="display: none;">
                        <span>📐 マス:</span>
                        <select id="gridSize">
                            <option value="5">5×5</option>
                            <option value="6">6×6</option>
                            <option value="7">7×7</option>
                            <option value="8" selected>8×8</option>
                            <option value="10">10×10</option>
                            <option value="12">12×12</option>
                            <option value="16">16×16</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="canvas-container" style="position: relative;">
                <canvas id="turtleCanvas" width="630" height="550"
                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"></canvas>
                <canvas id="spriteCanvas" width="630" height="550"
                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); pointer-events: none;"></canvas>
            </div>
            <div id="console" class="console">
                <div class="console-title">📋 コンソール</div>
                <div id="consoleOutput" class="console-output">準備完了なのだ！🚀</div>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="turtle-simulator.js?v=5"></script>
    <script src="app.js?v=6"></script>
</body>

</html>